{"openapi":"3.0.0","paths":{"/api/auth/employee/sign-up":{"post":{"operationId":"AuthController_employeeSignUp","summary":"Регистрация нового работника","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpDto"}}}},"responses":{"201":{"description":""}},"tags":["Авторизация"]}},"/api/auth/accountant/sign-up":{"post":{"operationId":"AuthController_accountantSignUp","summary":"Регистрация нового бухгалтера","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpDto"}}}},"responses":{"201":{"description":""}},"tags":["Авторизация"]}},"/api/auth/sign-in":{"post":{"operationId":"AuthController_signIn","summary":"Авторизация пользователя","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"200":{"description":""},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Авторизация"]}},"/api/auth/logout":{"get":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":""}},"tags":["Авторизация"],"security":[{"bearer":[]}]}},"/api/auth/refresh":{"post":{"operationId":"AuthController_refresh","parameters":[],"responses":{"201":{"description":""}},"tags":["Авторизация"]}},"/api/account":{"get":{"operationId":"AccountController_profile","summary":"Получение профиля авторизованного пользователя","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileDto"}}}}},"tags":["Аккаунт пользователя"],"security":[{"bearer":[]}]}},"/api/account/tickets":{"get":{"operationId":"AccountController_tickets","summary":"Получение списка счетов пользователя","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Ticket"}}}}}},"tags":["Аккаунт пользователя"],"security":[{"bearer":[]}]}},"/api/tickets/upload":{"post":{"operationId":"TicketController_upload","summary":"Загрузка фотографии чеков для тикета","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTicketDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadResponseDto"}}}}},"tags":["Тикет"],"security":[{"bearer":[]}]}},"/api/tickets/{id}/reciepts":{"get":{"operationId":"TicketController_getReciepts","summary":"Получение чеков по id тикета","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserReciept"}}}}}},"tags":["Тикет"],"security":[{"bearer":[]}]}},"/api/tickets/{id}":{"get":{"operationId":"TicketController_getTicketById","summary":"Получение тикета по id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ticket"}}}}},"tags":["Тикет"],"security":[{"bearer":[]}]}},"/api/reciepts":{"get":{"operationId":"RecieptController_get","summary":"Получение чеков пользователя","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserReciept"}}}}}},"tags":["Чеки"],"security":[{"bearer":[]}]}},"/api/reports":{"post":{"operationId":"ReportController_upload","summary":"Загрузка выписки в тикет","parameters":[{"name":"ticketId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["Выписки"],"security":[{"bearer":[]}]},"get":{"operationId":"ReportController_findAll","summary":"","parameters":[{"name":"fileName","required":false,"in":"query","description":"Описание","schema":{"type":"string"}},{"name":"createdAt","required":false,"in":"query","description":"Дата создания","schema":{"format":"date-time","type":"string"}},{"name":"updatedAt","required":false,"in":"query","description":"Дата обновления","schema":{"format":"date-time","type":"string"}},{"name":"offset","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Выписки"],"security":[{"bearer":[]}]}},"/api/reports/{id}":{"get":{"operationId":"ReportController_findOne","summary":"","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Выписки"],"security":[{"bearer":[]}]},"delete":{"operationId":"ReportController_remove","summary":"","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Выписки"],"security":[{"bearer":[]}]}}},"info":{"title":"FSP KUBOK","description":"","version":"0.1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"Bearer","bearerFormat":"JWT","type":"http","in":"Header"}},"schemas":{"SignUpDto":{"type":"object","properties":{"handle":{"type":"string"},"email":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"middleName":{"type":"string"},"password":{"type":"string"}},"required":["handle","email","lastName","firstName","middleName","password"]},"SignInDto":{"type":"object","properties":{"login":{"type":"string"},"password":{"type":"string"}},"required":["login","password"]},"ErrorDto":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"string"},"statusCode":{"type":"number"}},"required":["message","error","statusCode"]},"ProfileDto":{"type":"object","properties":{"id":{"type":"string"},"handle":{"type":"string"},"email":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"middleName":{"type":"string"},"role":{"type":"string"}},"required":["id","handle","email","lastName","firstName","middleName","role"]},"Report":{"type":"object","properties":{"id":{"type":"string"},"fileName":{"type":"string","description":"Описание"},"addedBy":{"type":"object","description":"Пользователь создавший выписку"},"createdAt":{"format":"date-time","type":"string","description":"Дата создания"},"updatedAt":{"format":"date-time","type":"string","description":"Дата обновления"}},"required":["id","fileName","addedBy","createdAt","updatedAt"]},"Ticket":{"type":"object","properties":{"id":{"type":"string"},"userId":{"type":"string"},"startDate":{"format":"date-time","type":"string"},"endDate":{"format":"date-time","type":"string"},"status":{"type":"string"},"report":{"$ref":"#/components/schemas/Report"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","userId","startDate","endDate","status","createdAt","updatedAt"]},"CreateTicketDto":{"type":"object","properties":{"startDate":{"format":"date-time","type":"string"},"endDate":{"format":"date-time","type":"string"}},"required":["startDate","endDate"]},"UploadResponseDto":{"type":"object","properties":{}},"UserReciept":{"type":"object","properties":{"imageLink":{"type":"string"},"fn":{"type":"string"},"fp":{"type":"string"},"amount":{"type":"string"},"purpose":{"type":"string"},"paidAt":{"format":"date-time","type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["imageLink","fn","fp","amount","purpose","paidAt","createdAt","updatedAt"]}}}}